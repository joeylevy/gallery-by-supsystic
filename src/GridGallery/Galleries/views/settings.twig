{% extends 'grid-gallery.twig' %}

{% block header %}

    <nav id="supsystic-breadcrumbs" class="supsystic-breadcrumbs" style="float: left; padding-top: 20px;">
        {#<ul class="supsystic-bar-controls">
            <li>
                <a class="button button-primary" target="_blank"
                   href="{{ environment.generateUrl('galleries', 'preview', { 'gallery_id': gallery.id }) }}">
                    <i class="fa fa-fw fa-eye"></i>
                    {{ environment.translate('Preview') }}
                </a>
            </li>

            <li>
                <button class="button button-primary" id="btnSave">
                    <i class="fa fa-fw fa-check"></i>
                    {{ environment.translate('Save') }}
                </button>
            </li>
        </ul>#}
        <a href="{{ environment.generateUrl('galleries') }}">{{ environment.translate('Gallery by Supsystic') }}</a>
        <i class="fa fa-angle-right"></i>
        <a href="{{ environment.generateUrl('galleries') }}">{{ environment.translate('Galleries') }}</a>
        <i class="fa fa-angle-right"></i>
        <a href="{{ environment.generateUrl('galleries', 'view', { 'gallery_id': gallery.id }) }}">{{ gallery.title }}</a>
    </nav>

    <h2 class="form-tabs">
        <a class="nav-tab change-tab" href="area">
            <i class="fa fa-home"></i>
            {{ environment.translate('Main') }}
        </a>

        <a class="nav-tab change-tab" href="overlay">
            <i class="fa fa-info"></i>
            {{ environment.translate('Captions') }}
        </a>

        <a class="nav-tab change-tab" href="cats">
            <i class="fa fa-bookmark-o"></i>
            {{ environment.translate('Categories') }}
        </a>

        <a class="nav-tab change-tab" href="post">
            <i class="fa fa-columns"></i>
            {{ environment.translate('Posts') }}
        </a>

        {% block tabs %}{% endblock %}

    </h2>

{% endblock %}

{% block preview %}

    {% import '@galleries/shortcode/style.twig' as style %}

    <div id="preview" class="gallery-preview" style="display:none;">

        <section class="supsystic-bar-preview" id="single-gallery-toolbar">
            <ul class="supsystic-bar-controls">

                {#<li>
                    <a class="button button-primary"
                       href="{{ environment.generateUrl('galleries', 'addImages', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-upload fa-fw"></i>
                        {{ environment.translate('Add images') }}
                    </a>
                </li>#}

                <li title="{{ environment.translate('Upload new images') }}">
                    <button class="button button-primary gallery" id="gg-btn-upload" data-folder-id="0"
                            data-gallery-id="{{ gallery.id }}" data-upload>
                        <i class="fa fa-fw fa-camera"></i>
                        {{ environment.translate('Add Images') }}
                    </button>
                </li>

                <li>
                    <a class="button"
                       href="{{ environment.generateUrl('galleries', 'view', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-list fa-fw"></i>
                        {{ environment.translate('Images list') }}
                    </a>
                </li>

                <li>
                    <a class="button button-primary" target="_blank"
                       href="{{ environment.generateUrl('galleries', 'preview', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-fw fa-eye"></i>
                        {{ environment.translate('Preview') }}
                    </a>
                </li>

                <li>
                    <button class="button button-primary" id="btnSave">
                        <i class="fa fa-fw fa-check"></i>
                        {{ environment.translate('Save') }}
                    </button>
                </li>

            </ul>
        </section>
        <figure class="grid-gallery-caption" data-grid-gallery-type="center" style="float: none !important;">
            {% if gallery.settings.previewImage is not empty %}
                {% set cover = get_attachment(gallery.settings.previewImage, '420', '250', 'true') %}
            {% else %}
                {% set cover = get_attachment(gallery.photos[0].attachment.id, '420', '250', 'true') %}
            {% endif %}

            {% if cover|length < 1 %}
                {% set cover = 'http://placehold.it/350x250&text=' ~ gallery.title %}
            {% endif %}
            <img src="{{ cover }}" alt="{{ gallery.title }}" style="max-height: 250px; max-width: 420px;"/>
            <figcaption style="{{ figcaptionStyle|trim }}">
                <div class="grid-gallery-figcaption-wrap">
                    <span>Gallery by Supsystic</span>
                </div>
            </figcaption>
        </figure>

        <a href="{{ environment.generateUrl('galleries', 'choosePreviewImage', { 'gallery_id': gallery.id }) }}" class="button button-primary button-hero" id="gg-btn-choose" style="margin-top: 20px">
            <i class="fa fa-fw fa-desktop"></i>
            {{ environment.translate('Choose image for preview') }}
        </a>

        <div class="shortcode-wrap" style="margin-top: 20px">
            <div class="shortcode">{{ environment.translate('Shortcode:') }}</div>
            <label id="shortcode" class="shortcode"> [{{ environment.config.get('shortcode_name') }} id={{ gallery.id }} position=center] </label>
        </div>

        <small style="left:25px;position:absolute;top:10px;display:none;">Oops! Transparency doesn't work in live
            preview.
        </small>

        <div class="separator"></div>

    </div>

{% endblock %}

{% block content %}

    {% import '@core/form.twig' as form %}

    <div class="settings-wrap">

        {{ form.open('post', environment.generateUrl('galleries', 'saveSettings', { 'gallery_id': gallery.id }), { 'id': 'form-settings' }) }}
        <input id="currentPresetTitle" name="title" type="hidden" value="{{ settings.title|default('') }}"/>

        <div data-tab="area">
            <table class="form-table" name="area">
                <thead>

                {{ form.row(environment.translate('Gallery Type'),
                form.select('area[grid]', ['Fixed', 'Vertical', 'Horizontal'], settings.area.grid, { 'style': 'width: auto;' }), 'grid-type', 'gallery-types') }}

                {#{{ form.row(environment.translate('Position'),
                form.select('area[position]', ['Center', 'Left', 'Right'], settings.area.position, { 'style': 'width: 300px;' }), 'grid-type') }}#}

                {{ form.row(environment.translate('Images distance'),
                form.text('area[distance]', settings.area.distance, { 'style': { 'width': '140px;' } })
                ~ form.span('', 'pixels', { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px; -webkit-appearance: none; -moz-appearance: none;line-height: 1;' }), 'distance') }}

                {{ form.row(environment.translate('Gallery width'),
                form.text('area[width]', settings.area.width, { 'style': { 'width': '140px' } })
                ~ form.select('area[width_unit]', ['pixels', 'percents'], settings.area.width_unit, { 'style': 'margin-top: -2px; height: 27px;' }), 'area-width') }}

                {#{{ form.row(environment.translate('Gallery height'),
                form.text('area[height]', settings.area.height, { 'style': { 'width': '205px'} })
                ~ form.select('', ['pixels', 'percents'], null, { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px' }), 'area-height') }}#}

                {{ form.row(environment.translate('Image width'),
                form.text('area[photo_width]', settings.area.photo_width, { 'style': { 'width': '140px'} })
                ~ form.select('area[photo_width_unit]', ['pixels', 'percents'], settings.area.photo_width_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'photo-width') }}

                {{ form.row(environment.translate('Image height'),
                form.text('area[photo_height]', settings.area.photo_height, { 'style': { 'width': '140px'} })
                ~ form.select('area[photo_height_unit]', ['pixels', 'percents'], settings.area.photo_height_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'photo-height') }}

                {{ form.row(environment.translate('Image radius'),
                form.text('thumbnail[border][radius]', settings.thumbnail.border.radius, { 'style': { 'width': '140px'} })
                ~ form.select('thumbnail[border][radius_unit]', ['pixels', 'percents'], settings.thumbnail.border.radius_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'border-radius') }}

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table" name="border">
                <thead>

                {% set borderTypes = {
                'solid': 'Solid',
                'dotted': 'Dotted',
                'dashed': 'Dashed',
                'double': 'Double',
                'none': 'None'
                } %}

                {#<tr id="useBorderRow">
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ environment.translate('Border') }}
                        </h3>
                    </th>
                    <td>
                        <input type="radio" id="showBorder" name="thumbnail[border][use]" value="1" {% if settings.thumbnail.border.use == '1' %}checked{% endif %}>
                            {{ environment.translate('Available') }}
                        <input type="radio" id="hideBorder" name="thumbnail[border][use]" value="0" {% if settings.thumbnail.border.use != '1' %}checked{% endif %}>
                            {{ environment.translate('Disable') }}
                    </td>
                </tr>#}

                {{ form.row(environment.translate('Border Type'),
                form.select('thumbnail[border][type]', borderTypes, settings.thumbnail.border.type, { 'style': 'width: auto;' })
                ~ form.input('text', 'border-type', 'Types', { 'style': 'margin-top: -2px; height: 27px; width: 50px; border: 1px solid black;' }), 'border-type', 'gallery-borders') }}

                {{ form.row(environment.translate('Border color'),
                form.input('text', 'thumbnail[border][color]', settings.thumbnail.border.color, { 'class': 'gg-color-picker' }), 'border-color') }}

                {{ form.row(environment.translate('Border width'),
                form.text('thumbnail[border][width]', settings.thumbnail.border.width, { 'style': { 'width': '140px;'} })
                ~ form.span('', 'pixels', { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px; -webkit-appearance: none; -moz-appearance: none;line-height: 1;' }), 'border-width') }}

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table" name="shadow">
                <thead>

                <tr id="useShadowRow">
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ environment.translate('Shadow') }}
                        </h3>
                    </th>
                    <td>
                        <input type="radio" id="showShadow" name="use_shadow" value="1" {% if settings.use_shadow == '1' %}checked{% endif %}>
                            {{ environment.translate('Available') }}
                        <input type="radio" id="hideShadow" name="use_shadow" value="0" {% if settings.use_shadow != '1' %}checked{% endif %}>
                            {{ environment.translate('Disable') }}
                    </td>
                </tr>

                <tr id="useMouseShadowRow">
                    <th scope="row">
                        {{ environment.translate('When mouse is over') }}
                    </th>
                    <td>
                        <select id="useMouseOverShadow" style="width: auto;" name="mouse_shadow">
                            <option value="0" {% if settings.mouse_shadow == '0' %}selected="selected"{% endif %}>
                                {{ environment.translate('Off') }}
                            </option>
                            <option value="1" {% if settings.mouse_shadow == '1' %}selected="selected"{% endif %}>
                                {{ environment.translate('Show mouse on') }}
                            </option>
                            <option value="2" {% if settings.mouse_shadow == '2' %}selected="selected"{% endif %}>
                                {{ environment.translate('Hide mouse on') }}
                            </option>
                        </select>
                    </td>
                </tr>

                {{ form.row(environment.translate('Overlay image with shadow'),
                form.select('thumbnail[shadow][overlay]', ['Off', 'On'], settings.thumbnail.shadow.overlay, { 'style': 'width: auto;' }), 'overlay-type') }}

                {{ form.row(environment.translate('Shadow color'),
                form.color('thumbnail[shadow][color]', settings.thumbnail.shadow.color, { 'style': { 'width': '300px' } }), 'shadow-color') }}

                {{ form.row(environment.translate('Shadow blur'),
                form.text('thumbnail[shadow][blur]', settings.thumbnail.shadow.blur, { 'style': { 'width': 'auto' } }), 'shadow-blur') }}

                {{ form.row(environment.translate('Shadow X'),
                form.text('thumbnail[shadow][x]', settings.thumbnail.shadow.x, { 'style': { 'width': 'auto' } }), 'shadow-x') }}

                {{ form.row(environment.translate('Shadow Y'),
                form.text('thumbnail[shadow][y]', settings.thumbnail.shadow.y, { 'style': { 'width': 'auto' } }), 'shadow-y') }}

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table">
                <thead>

                <tr>
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ environment.translate('Pop-up Image') }}
                        </h3>
                    </th>
                    <td>
                        <input name="box[type]" value="{{ settings.box.type }}" style="vertical-align: sub;" hidden>
                        <span class="themeName" style="vertical-align: sub;" hidden>
                            {{ settings.box.theme|replace({ '_' : ' '})|title }}
                        </span>
                        <button class="button bordered" type="button" id="chooseTheme">
                            {{ environment.translate('Choose theme') }}
                        </button>
                        <input id="bigImageTheme" type="hidden" name="box[theme]" value="{{ settings.box.theme }}"/>
                    </td>
                </tr>

                <tr id="enable-mobile-row">
                    <th scope="row">
                        <label for="enableMobile">{{ environment.translate('Disable on mobile') }}</label>
                    </th>
                    <td>
                        <input type="checkbox" id="enableMobile" name="box[mobile]" {% if settings.box.mobile == 'on' %}checked{% endif %}>
                        {{ form.show_tooltip('mobile') }}
                    </td>
                </tr>

                {#{{ form.row(environment.translate('Pop-up Image'),
                form.select('box[type]', ['Colorbox', 'PrettyPhoto'], settings.box.type, { 'style': 'width: auto;' }), 'text-align', true) }}#}

                {#<tr>
                    <th scope="row">
                        {{ environment.translate('Theme') }}
                    </th>
                    <td>
                        <span class="themeName" style="vertical-align: sub;" hidden>
                            {{ settings.box.theme|replace({ '_' : ' '})|title }}
                        </span>
                        <button class="button bordered" type="button" id="chooseTheme">
                            {{ environment.translate('Choose theme') }}
                        </button>
                        <input id="bigImageTheme" type="hidden" name="box[theme]" value="{{ settings.box.theme }}"/>
                    </td>
                </tr>#}


                <tr>
                    <th scope="row">
                        {{ environment.translate('Transition') }}
                    </th>
                    <td>
                        <input name="box[transition]" value="{{ settings.box.transition }}" style="vertical-align: sub;" hidden>
                        <button id="chooseTransition" class="button bordered" type="button">
                            {{ environment.translate('Choose effect') }}
                        </button>
                    </td>
                </tr>


                {#{{ form.row(
                environment.translate('Transition'),
                form.select(
                'box[transition]',
                {
                    'elastic': environment.translate('Elastic'),
                    'fade': environment.translate('Fade'),
                    'none': environment.translate('None')
                },
                settings.box.transition,
                {
                    'style': 'width: auto',
                },
                'box-transition'
                )
                ) }}

                {{ form.row(
                environment.translate('Transition speed'),
                form.text(
                'box[speed]',
                settings.box.speed,
                {
                    'style': {
                    'width': '300px'
                },
                },
                'box-speed'
                )
                ) }}

                {{ form.row(
                environment.translate('Close speed'),
                form.text(
                'box[fadeOut]',
                settings.box.fadeOut,
                {
                    'style': {
                    'width': '300px',
                },
                },
                'box-fadeOut'
                )
                ) }}
                #}

                <tr id="enableSlideshow">
                    <th scope="row">
                        {{ environment.translate('Slideshow') }}
                        {{ form.show_tooltip('slideshow') }}
                    </th>
                    <td>
                        <input type="radio" id="showSlideshow" name="box[slideshow]" value="1" {% if settings.box.slideshow == '1' %}checked{% endif %}>
                        {{ environment.translate('Available') }}
                        <input type="radio" id="hideSlideshow" name="box[slideshow]" value="0" {% if settings.box.slideshow != '1' %}checked{% endif %}>
                        {{ environment.translate('Disable') }}
                    </td>
                </tr>

                {{ form.row(
                environment.translate('Slideshow speed'),
                form.text(
                'box[slideshowSpeed]',
                settings.box.slideshowSpeed,
                {
                    'style': {
                    'width': '300px',
                },
                },
                'box-slideshowSpeed'
                )
                ) }}

                {{ form.row(
                environment.translate('Slideshow autostart'),
                form.select(
                'box[slideshowAuto]',
                {
                    'true':  environment.translate('Yes'),
                    'false': environment.translate('No'),
                },
                settings.box.slideshowAuto,
                {
                    'style': 'width: 300px',
                },
                'box-slideshowAuto'
                )
                ) }}

                </thead>
            </table>

        </div>

        {% block post %}
            <div data-tab="post">
                <h1 style="line-height: 1;">
                    {{ environment.translate("Show Posts and Pages") }}
                    </br>
                    <a class="button"
                       href="http://supsystic.com/plugins/photo-gallery/">Get
                        PRO for 29$</a>
                </h1>

                <div>
                    <a href="http://supsystic.com/plugins/photo-gallery/">
                        <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/posts_pro.jpg" />
                    </a>
                </div>
            </div>
        {% endblock %}

        <div data-tab="overlay">
            <table class="form-table" name="captions">
                <thead>

                {% set effects = {
                'none': 'None',
                'center': 'Middle',
                'quarter-appear': 'Appear',
                'quarter-slide-up': 'Quarter Slide Up',
                'quarter-slide-side': 'Quarter Slide Side',
                'quarter-fall-in': 'Quarter Fall in',
                'quarter-two-step': 'Quarter Two-step',
                'quarter-zoom': 'Quarter Caption Zoom',
                'cover-fade': 'Cover Fade',
                'cover-push-right': 'Cover Push Right',
                'revolving-door-left': 'Revolving Door Left',
                'revolving-door-right': 'Revolving Door Right',
                'revolving-door-top': 'Revolving Door Top',
                'revolving-door-bottom': 'Revolving Door Bottom',
                'cover-slide-top': 'Cover Slide Top',
                'offset': 'Caption Offset',
                'guillotine-reverse': 'Guillotine Reverse',
                'half-slide': 'Half Slide',
                'sqkwoosh': 'Sqkwoosh',
                'tunnel': 'Tunnel'
                } %}

                {# {{ form.row(environment.translate('Effect'),
                form.select('thumbnail[overlay][effect]', effects, settings.thumbnail.overlay.effect|default('quarter-appear'), { 'style': 'width: 300px;' }), 'overlay-effect') }} #}
                {#<tr>
                    <th scope="row">
                        <label for="captionEnabled">
                            <h3 style="margin: 0 !important;">
                                {{ environment.translate('Show caption') }}
                            </h3>
                        </label>
                    </th>
                    <td>
                        <select id="captionEnabled" name="thumbnail[overlay][enabled]" style="width: 300px;">
                            <option value="true"
                                    {% if settings.thumbnail.overlay.enabled == 'true' %}selected="selected"{% endif %}>{{ environment.translate('Yes') }}</option>
                            <option value="false"
                                    {% if settings.thumbnail.overlay.enabled == 'false' %}selected="selected"{% endif %}>{{ environment.translate('No') }}</option>
                        </select>
                    </td>
                </tr>#}
                <tr id="useCaptions">
                    <th scope="row">
                        <label for="captionEnabled">
                            <h3 style="margin: 0 !important;">
                                {{ environment.translate('Captions') }}
                            </h3>
                        </label>
                    </th>
                    <td>
                        <input type="radio" id="showCaptions" name="thumbnail[overlay][enabled]" value="true" {% if settings.thumbnail.overlay.enabled == 'true' %}checked{% endif %}>
                        {{ environment.translate('Available') }}
                        <input type="radio" id="hideCaptions" name="thumbnail[overlay][enabled]" value="false" {% if settings.thumbnail.overlay.enabled != 'true' %}checked{% endif %}>
                        {{ environment.translate('Disable') }}
                    </td>
                </tr>
                <tr class="caption-effect">
                    <th scope="row">
                        {{ environment.translate('Effect') }}
                    <td>
                    </th>
                <span class="selectedEffectName" style="vertical-align: sub;" hidden>
                    {{ settings.thumbnail.overlay.effect }}
                </span>
                    <button id="chooseEffect" class="button bordered" type="button">
                        {{ environment.translate('Choose effect') }}
                    </button>
                    <input type="hidden" id="overlayEffect" name="thumbnail[overlay][effect]"
                           value="{{ settings.thumbnail.overlay.effect|default('quarter-appear') }}"/>
                    </td>
                </tr>

                {{ form.row(environment.translate('Background color'),
                form.color('thumbnail[overlay][background]', settings.thumbnail.overlay.background), 'overlay-background') }}

                {{ form.row(environment.translate('Text color'),
                form.color('thumbnail[overlay][foreground]', settings.thumbnail.overlay.foreground), 'overlay-foreground') }}

                {{ form.row(environment.translate('Transparency'),
                form.select('thumbnail[overlay][transparency]',
                ['0%', '10%', '20%', '30%', '40%', '50%', '60%', '70%', '80%', '90%', '100%'],
                settings.thumbnail.overlay.transparency|default(9),
                { 'style': 'width: auto;' }), 'overlay-transparency') }}

                {{ form.row(environment.translate('Text size'),
                form.text('thumbnail[overlay][text_size]', settings.thumbnail.overlay.text_size, { 'style': { 'width': '140px'} })
                ~ form.select('thumbnail[overlay][text_size_unit]', ['pixels', 'percents', 'ems'], settings.thumbnail.overlay.text_size_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'text-size') }}

                {{ form.row(environment.translate('Text align'),
                form.select('thumbnail[overlay][text_align]', ['left', 'right', 'center', 'auto'], settings.thumbnail.overlay.text_align, { 'style': 'width: auto;' }), 'text-align') }}


                </thead>
            </table>

            <div class="separator"></div>

            {% block icons %}
                <div name="icons">
                    <h1 style="line-height: 1;">
                        {{ environment.translate("Show amazing Icons on the images") }}
                        </br>
                        <a class="button"
                           href="http://supsystic.com/plugins/photo-gallery/">Get
                            PRO for 29$</a>
                    </h1>

                    <div>
                        <a href="http://supsystic.com/plugins/photo-gallery/">
                            <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/icons_pro.jpg" />
                        </a>
                    </div>
                </div>
            {% endblock %}
        </div>

        {% block categories %}
            <div data-tab="cats">
                <h1 style="line-height: 1;">
                    {{ environment.translate('Categorize images in the gallery') }}
                    </br>
                    <a class="button"
                       href="http://supsystic.com/plugins/photo-gallery/">Get
                        PRO for 29$</a>
                </h1>

                <div>
                    <a href="http://supsystic.com/plugins/photo-gallery/">
                        <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/cats_pro.jpg" />
                    </a>
                </div>
                {% block pagination %}
                    <h1 style="line-height: 1;">
                        {{ environment.translate('Let user switch gallery pages') }}
                        </br>
                        <a class="button"
                           href="http://supsystic.com/plugins/photo-gallery/">Get
                            PRO for 29$</a>
                    </h1>
                    <div name="pagination">
                        <div>
                            <a href="http://supsystic.com/plugins/photo-gallery/">
                                <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/pagination_pro.jpg" />
                            </a>
                        </div>
                    </div>
                {% endblock %}
            </div>
        {% endblock %}

        {% block form %}{% endblock %}

        {{ form.close() }}

        <div id="saveDialog" title="{{ environment.translate('Save settings as preset') }}">
            <div>
                <label for="presetTitle">
                    {{ environment.translate('Preset title:') }}
                </label>
            </div>
            <div>
                <input id="presetTitle" type="text" name="title" style="width:100%;" value="{{ preset.title }}"/>
                <input id="settingsId" type="hidden" name="settings_id" value="{{ id }}"/>
            </div>
        </div>

        <div id="deletePreset" title="{{ environment.translate('Delete preset') }}">
            <p>
                {{ environment.translate('Are you really want to delete preset "%s"?')|format(preset.title) }}
            </p>
            <input type="hidden" id="presetId" value="{{ preset.id }}">
        </div>

        <div id="loadPreset" title="{{ environment.translate('Load settings from presets') }}">
            <div>
                <label for="presetList">{{ environment.translate('Select preset:') }}</label>
            </div>
            <div>
                <select id="presetList" name="presetList" style="width:100%"></select>
            </div>
            <div id="presetListError">
                <p id="presetLoadingFailed" style="display:none">
                    {{ environment.translate('Failed to load the presets.') }}
                </p>

                <p id="presetEmpty" style="display:none">
                    {{ environment.translate('Currently you have no presets.') }}
                </p>
            </div>
        </div>

        <div id="themeDialog" title="{{ environment.translate('Select "Big image" theme') }}">
            <h1>
                {{ environment.translate('Select a theme') }}
            </h1>
            <div>
                {% set bigImageThemes = {
                'theme_1': 'Theme 1',
                'theme_2': 'Theme 2',
                'theme_3': 'Theme 3',
                'theme_4': 'Theme 4',
                'theme_5': 'Theme 5',
                'theme_6': 'Theme 6'
                } %}

                {% set transitionEffects = {
                'fade': 'Fade',
                'elastic': 'Elastic',
                'none': 'None',
                } %}


                {% for value, name in bigImageThemes %}
                    <div class="grid-gallery-caption" style="float: left; {% if value == 'theme_2' or value == 'theme_4' or value == 'theme_6' %}margin-left: 15px;{% endif %}; cursor: pointer;">
                        <img data-name="{{ name }}" data-val="{{ value }}" style="width:262px; height: 170px;" class="theme dialog-image"
                             src="{{ environment.getModule('colorbox').getThemeScreenshotUrl(value) }}" alt="{{ name }}"
                             title="{{ name }}"/>
                        <div class="select-element">
                            <h3>{{ environment.translate('Select') }}</h3>
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>

        {% set figcaptionStyle %}
        border-radius: {{ settings.thumbnail.border.radius ~ settings.thumbnail.border.radius_unit|replace(['px', '%']) }}
        ;
        {% if environment.isPro() and settings.icons is defined and settings.icons.enabled == 'true' %}
            {% if settings.icons.overlay_enabled == 'true' %}
                background-color:{{ settings.icons.overlay_color|default('#3498db') }};
            {% endif %}
        {% else %}
            color:{{ settings.thumbnail.overlay.foreground }};
            background-color:{{ settings.thumbnail.overlay.background }};
            font-size:{{ settings.thumbnail.overlay.text_size }}{{ settings.thumbnail.overlay.text_size_unit|replace(['px', '%', 'em']) }};
            {% if settings.thumbnail.overlay.text_align != 3 %}
                text-align:{{ settings.thumbnail.overlay.text_align|replace(['left', 'right', 'center']) }};
            {% endif %}
            {% if settings.thumbnail.overlay.effect == 'none' or settings.thumbnail.overlay.enabled == 'false' %}
                opacity:1;
                bottom:0;
            {% endif %}
        {% endif %}
        {% endset %}

        <div id="effectDialog" title="{{ environment.translate('Select overlay effect') }}">
            <div id="effectsPreview" style="margin-top: 10px;">
                {% for type, name in effects %}
                    <figure class="grid-gallery-caption" data-grid-gallery-type="{{ type }}">
                        <img src="http://placehold.it/150/28282a/f7f7f7&text={{ name }}" class="dialog-image"/>
                        <figcaption style="{{ figcaptionStyle|trim }}">
                            <div class="grid-gallery-figcaption-wrap">
                                <span>{{ name }}</span>
                            </div>
                        </figcaption>
                        <div class="select-element">
                            {{ environment.translate('Select') }}
                        </div>
                    </figure>
                {% endfor %}
            </div>
        </div>

        <div id="transitionDialog" title="{{ environment.translate('Select transition') }}">
            <div id="transitionPreview" style="margin: 10px;">
                {% for type, name in transitionEffects %}
                    <figure id="{{ type }}" class="grid-gallery-caption" data-grid-gallery-type="{{ type }}">
                        <img src="http://placehold.it/250/28282a/f7f7f7&text={{ name }}" class="dialog-image"/>
                        <figcaption style="{{ figcaptionStyle|trim }}">
                            <div class="grid-gallery-figcaption-wrap">
                                <span>{{ name }}</span>
                            </div>
                        </figcaption>
                        <div class="select-element">
                            <h3>{{ environment.translate('Select') }}</h3>
                        </div>
                    </figure>
                {% endfor %}
            </div>
        </div>

    </div>

    {% block modals %}{% endblock %}

{% endblock %}