{% extends 'grid-gallery.twig' %}

{% block header %}

    <nav id="supsystic-breadcrumbs" class="supsystic-breadcrumbs" style="float: left; padding-top: 20px;">
        {#<ul class="supsystic-bar-controls">
            <li>
                <a class="button button-primary" target="_blank"
                   href="{{ environment.generateUrl('galleries', 'preview', { 'gallery_id': gallery.id }) }}">
                    <i class="fa fa-fw fa-eye"></i>
                    {{ environment.translate('Preview') }}
                </a>
            </li>

            <li>
                <button class="button button-primary" id="btnSave">
                    <i class="fa fa-fw fa-check"></i>
                    {{ environment.translate('Save') }}
                </button>
            </li>
        </ul>#}
        <a href="{{ environment.generateUrl('galleries') }}">{{ translate('Gallery by Supsystic') }}</a>
        <i class="fa fa-angle-right"></i>
        <a href="{{ environment.generateUrl('galleries') }}">{{ translate('Galleries') }}</a>
        <i class="fa fa-angle-right"></i>
        <a href="{{ environment.generateUrl('galleries', 'view', { 'gallery_id': gallery.id }) }}">{{ gallery.title }}</a>
    </nav>

    <h2 class="form-tabs">
        <a class="nav-tab change-tab" href="area">
            <i class="fa fa-home"></i>
            {{ translate('Main') }}
        </a>

        <a class="nav-tab change-tab" href="overlay">
            <i class="fa fa-info"></i>
            {{ translate('Captions') }}
        </a>

        <a class="nav-tab change-tab" href="cats">
            <i class="fa fa-bookmark-o"></i>
            {{ translate('Categories') }}
        </a>

        <a class="nav-tab change-tab" href="post">
            <i class="fa fa-columns"></i>
            {{ translate('Posts') }}
        </a>

        {% block tabs %}{% endblock %}

    </h2>

{% endblock %}

{% block preview %}

    {% import '@galleries/shortcode/style.twig' as style %}

    <div id="preview" class="gallery-preview" style="display:none;">

        <section class="supsystic-bar-preview" id="single-gallery-toolbar">
            <ul class="supsystic-bar-controls">

                {#<li>
                    <a class="button button-primary"
                       href="{{ environment.generateUrl('galleries', 'addImages', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-upload fa-fw"></i>
                        {{ environment.translate('Add images') }}
                    </a>
                </li>#}

                <li title="{{ translate('Upload new images') }}">
                    <button class="button button-primary gallery" id="gg-btn-upload" data-folder-id="0"
                            data-gallery-id="{{ gallery.id }}" data-upload>
                        <i class="fa fa-fw fa-camera"></i>
                        {{ translate('Add Images') }}
                    </button>
                </li>

                <li>
                    <a class="button"
                       href="{{ environment.generateUrl('galleries', 'view', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-list fa-fw"></i>
                        {{ translate('Images list') }}
                    </a>
                </li>

                <li>
                    <a class="button button-primary" target="_blank"
                       href="{{ environment.generateUrl('galleries', 'preview', { 'gallery_id': gallery.id }) }}">
                        <i class="fa fa-fw fa-eye"></i>
                        {{ translate('Preview') }}
                    </a>
                </li>

                <li>
                    <button class="button button-primary" id="btnSave">
                        <i class="fa fa-fw fa-check"></i>
                        {{ translate('Save') }}
                    </button>
                </li>

            </ul>
        </section>
        <figure class="grid-gallery-caption" data-grid-gallery-type="center" style="float: none !important;">
            {% if gallery.settings.previewImage is not empty %}
                {% set cover = get_attachment(gallery.settings.previewImage, '420', '250', 'true') %}
            {% else %}
                {% set cover = get_attachment(gallery.photos[0].attachment.id, '420', '250', 'true') %}
            {% endif %}

            {% if cover|length < 1 %}
                {% set cover = 'http://placehold.it/350x250&text=' ~ gallery.title %}
            {% endif %}
            <img src="{{ cover }}" alt="{{ gallery.title }}" style="max-height: 250px; max-width: 420px;"/>
            <figcaption style="{{ figcaptionStyle|trim }}">
                <div class="grid-gallery-figcaption-wrap">
                    <span>Gallery by Supsystic</span>
                </div>
            </figcaption>
        </figure>

        <a href="{{ environment.generateUrl('galleries', 'choosePreviewImage', { 'gallery_id': gallery.id }) }}" class="button button-primary button-hero" id="gg-btn-choose" style="margin-top: 20px">
            <i class="fa fa-fw fa-desktop"></i>
            {{ translate('Choose image for preview') }}
        </a>

        <div class="shortcode-wrap" style="margin-top: 20px">
            <div class="shortcode">{{ translate('Shortcode:') }} <input type="text" id="shortcode" class="gallery-shortcode" value="[{{ environment.config.get('shortcode_name') }} id={{ gallery.id }} position=center]" onclick="this.select();" size="42" style="font-size: 12px;" readonly></div>
        </div>

        <small style="left:25px;position:absolute;top:10px;display:none;">Oops! Transparency doesn't work in live
            preview.
        </small>

        <div class="separator"></div>

    </div>

{% endblock %}

{% block content %}

    {% import '@core/form.twig' as form %}

    <div class="settings-wrap">

        {{ form.open('post', environment.generateUrl('galleries', 'saveSettings', { 'gallery_id': gallery.id }), { 'id': 'form-settings' }) }}
        <input id="currentPresetTitle" name="title" type="hidden" value="{{ settings.title|default('') }}"/>

        <div data-tab="area">
            <table class="form-table" name="area">
                <thead>
				
                {{ form.row(translate('Gallery Type'),
                form.select('area[grid]', ['Fixed', 'Vertical', 'Horizontal', 'Fixed Columns'], settings.area.grid, { 'style': 'width: auto;' }), 'grid-type', 'gallery-types', 'columns') }}
				<tr id="generalColumnsRow" hidden>
                    <th scope="row">
                        <label style="margin: 0 !important;">
                            {{ translate('Number of Columns') }}
							{{ form.show_tooltip('columns') }}
							<br />
							<label><a href="http://supsystic.com/fixed-columns-gallery-example/" style="color: #0074a2; font-size: 10px; text-decoration: none;">More Info</a> </label>
                        </label>
                    </th>
                    <td>
                        <input type="text" name="general[columns][number]" value="{{ settings.general.columns.number|default(1) }}">
                    </td>
                </tr>
								
                {#{{ form.row(environment.translate('Position'),
                form.select('area[position]', ['Center', 'Left', 'Right'], settings.area.position, { 'style': 'width: 300px;' }), 'grid-type') }}#}

                {{ form.row(translate('Images distance'),
                form.text('area[distance]', settings.area.distance, { 'style': { 'width': '140px;' } })
                ~ form.span('', 'pixels', { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px; -webkit-appearance: none; -moz-appearance: none;line-height: 1;' }), 'distance') }}

                {{ form.row(translate('Gallery width'),
                form.text('area[width]', settings.area.width, { 'style': { 'width': '140px' } })
                ~ form.select('area[width_unit]', ['pixels', 'percents'], settings.area.width_unit, { 'style': 'margin-top: -2px; height: 27px;' }), 'area-width') }}

                {#{{ form.row(environment.translate('Gallery height'),
                form.text('area[height]', settings.area.height, { 'style': { 'width': '205px'} })
                ~ form.select('', ['pixels', 'percents'], null, { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px' }), 'area-height') }}#}

                {{ form.row(translate('Image width'),
                form.text('area[photo_width]', settings.area.photo_width, { 'style': { 'width': '140px'} })
                ~ form.select('area[photo_width_unit]', ['pixels', 'percents'], settings.area.photo_width_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'photo-width') }}

                {{ form.row(translate('Image height'),
                form.text('area[photo_height]', settings.area.photo_height, { 'style': { 'width': '140px'} })
                ~ form.select('area[photo_height_unit]', ['pixels', 'percents'], settings.area.photo_height_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'photo-height') }}

                {{ form.row(translate('Image radius'),
                form.text('thumbnail[border][radius]', settings.thumbnail.border.radius, { 'style': { 'width': '140px'} })
                ~ form.select('thumbnail[border][radius_unit]', ['pixels', 'percents'], settings.thumbnail.border.radius_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'border-radius') }}

                

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table" name="border">
                <thead>

                {% set borderTypes = {
                'solid': 'Solid',
                'dotted': 'Dotted',
                'dashed': 'Dashed',
                'double': 'Double',
                'none': 'None'
                } %}

                {#<tr id="useBorderRow">
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ environment.translate('Border') }}
                        </h3>
                    </th>
                    <td>
                        <input type="radio" id="showBorder" name="thumbnail[border][use]" value="1" {% if settings.thumbnail.border.use == '1' %}checked{% endif %}>
                            {{ environment.translate('Available') }}
                        <input type="radio" id="hideBorder" name="thumbnail[border][use]" value="0" {% if settings.thumbnail.border.use != '1' %}checked{% endif %}>
                            {{ environment.translate('Disable') }}
                    </td>
                </tr>#}

                {{ form.row(translate('Border Type'),
                form.select('thumbnail[border][type]', borderTypes, settings.thumbnail.border.type, { 'style': 'width: auto;' })
                ~ form.input('text', 'border-type', 'Types', { 'style': 'margin-top: -2px; height: 27px; width: 50px; border: 1px solid black;' }), 'border-type', 'gallery-borders') }}

                {{ form.row(translate('Border color'),
                form.input('text', 'thumbnail[border][color]', settings.thumbnail.border.color, { 'class': 'gg-color-picker' }), 'border-color') }}

                {{ form.row(translate('Border width'),
                form.text('thumbnail[border][width]', settings.thumbnail.border.width, { 'style': { 'width': '140px;'} })
                ~ form.span('', 'pixels', { 'disabled': 'disabled', 'style': 'margin-top: -2px; height: 27px; -webkit-appearance: none; -moz-appearance: none;line-height: 1;' }), 'border-width') }}

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table" name="shadow">
                <thead>

                <tr id="useShadowRow">
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ translate('Shadow') }}
                        </h3>
                    </th>
                    <td>
                        <input type="radio" id="showShadow" name="use_shadow" value="1" {% if settings.use_shadow == '1' %}checked{% endif %}>
                            {{ translate('Available') }}
                        <input type="radio" id="hideShadow" name="use_shadow" value="0" {% if settings.use_shadow != '1' %}checked{% endif %}>
                            {{ translate('Disable') }}
                    </td>
                </tr>

                <tr>
                    <th scope="row">
                        {{ translate('Shadow preset') }}
                    </th>
                    <td>
                        <button id="chooseShadowPreset" class="button bordered" type="button">
                            {{ translate('Choose preset') }}
                        </button>
                    </td>
                </tr>

                <tr id="useMouseShadowRow">
                    <th scope="row">
                        {{ translate('When mouse is over') }}
                    </th>
                    <td>
                        <select id="useMouseOverShadow" style="width: auto;" name="mouse_shadow">
                            <option value="0" {% if settings.mouse_shadow == '0' %}selected="selected"{% endif %}>
                                {{ translate('Off') }}
                            </option>
                            <option value="1" {% if settings.mouse_shadow == '1' %}selected="selected"{% endif %}>
                                {{ translate('Show mouse on') }}
                            </option>
                            <option value="2" {% if settings.mouse_shadow == '2' %}selected="selected"{% endif %}>
                                {{ translate('Hide mouse on') }}
                            </option>
                        </select>
                    </td>
                </tr>

                {{ form.row(translate('Overlay image with shadow'),
                form.select('thumbnail[shadow][overlay]', ['Off', 'On'], settings.thumbnail.shadow.overlay, { 'style': 'width: auto;' }), 'overlay-type') }}

                {{ form.row(translate('Shadow color'),
                form.color('thumbnail[shadow][color]', settings.thumbnail.shadow.color, { 'style': { 'width': '300px' } }), 'shadow-color') }}

                {{ form.row(translate('Shadow blur'),
                form.text('thumbnail[shadow][blur]', settings.thumbnail.shadow.blur, { 'style': { 'width': 'auto' } }), 'shadow-blur') }}

                {{ form.row(translate('Shadow X'),
                form.text('thumbnail[shadow][x]', settings.thumbnail.shadow.x, { 'style': { 'width': 'auto' } }), 'shadow-x') }}

                {{ form.row(translate('Shadow Y'),
                form.text('thumbnail[shadow][y]', settings.thumbnail.shadow.y, { 'style': { 'width': 'auto' } }), 'shadow-y') }}

                </thead>
            </table>

            <div class="separator"></div>

            <table class="form-table">
                <thead>

                <tr>
                    <th scope="row">
                        <h3 style="margin: 0 !important;">
                            {{ translate('Pop-up Image') }}
                        </h3>
                    </th>
                    <td>
                        <input name="box[type]" value="{{ settings.box.type }}" style="vertical-align: sub;" hidden>
                        <span

                                class="themeName" style="vertical-align: sub;" hidden>
                            {{ settings.box.theme|replace({ '_' : ' '})|title }}
                        </span>
                        <button class="button bordered" type="button" id="chooseTheme">
                            {{ translate('Choose theme') }}
                        </button>
                        <input id="bigImageTheme" type="hidden" name="box[theme]" value="{{ settings.box.theme }}"/>
                    </td>
                </tr>

                <tr id="disable-popup-row">
                    <th scope="row">
                        <label for="disablePopup">{{ translate('Disable Popup') }}</label>
                    </th>
                    <td>
                        <input type="checkbox" id="disablePopup" name="box[disable]" {% if settings.box.disable == 'on' %}checked{% endif %}>
                        {{ form.show_tooltip('disable') }}
                    </td>
                </tr>

                <tr id="enable-mobile-row">
                    <th scope="row">
                        <label for="enableMobile">{{ translate('Disable on mobile') }}</label>
                    </th>
                    <td>
                        <input type="checkbox" id="enableMobile" name="box[mobile]" {% if settings.box.mobile == 'on' %}checked{% endif %}>
                        {{ form.show_tooltip('mobile') }}
                    </td>
                </tr>

                <tr id="popup-caption-row">
                    <th scope="row">
                        <label for="enablePopupCaptions">{{ translate('Hide Popup Captions') }}</label>
                    </th>
                    <td>
                        <input type="checkbox" id="enablePopupCaptions" name="box[captions]" {% if settings.box.captions == 'on' %}checked{% endif %}>
                        {{ form.show_tooltip('captions') }}
                    </td>
                </tr>

                {#{{ form.row(environment.translate('Pop-up Image'),
                form.select('box[type]', ['Colorbox', 'PrettyPhoto'], settings.box.type, { 'style': 'width: auto;' }), 'text-align', true) }}#}

                {#<tr>
                    <th scope="row">
                        {{ environment.translate('Theme') }}
                    </th>
                    <td>
                        <span class="themeName" style="vertical-align: sub;" hidden>
                            {{ settings.box.theme|replace({ '_' : ' '})|title }}
                        </span>
                        <button class="button bordered" type="button" id="chooseTheme">
                            {{ environment.translate('Choose theme') }}
                        </button>
                        <input id="bigImageTheme" type="hidden" name="box[theme]" value="{{ settings.box.theme }}"/>
                    </td>
                </tr>#}


                <tr>
                    <th scope="row">
                        {{ translate('Transition') }}
                    </th>
                    <td>
                        <input name="box[transition]" value="{{ settings.box.transition }}" style="vertical-align: sub;" hidden>
                        <button id="chooseTransition" class="button bordered" type="button">
                            {{ translate('Choose effect') }}
                        </button>
                    </td>
                </tr>


                {#{{ form.row(
                environment.translate('Transition'),
                form.select(
                'box[transition]',
                {
                    'elastic': environment.translate('Elastic'),
                    'fade': environment.translate('Fade'),
                    'none': environment.translate('None')
                },
                settings.box.transition,
                {
                    'style': 'width: auto',
                },
                'box-transition'
                )
                ) }}

                {{ form.row(
                environment.translate('Transition speed'),
                form.text(
                'box[speed]',
                settings.box.speed,
                {
                    'style': {
                    'width': '300px'
                },
                },
                'box-speed'
                )
                ) }}

                {{ form.row(
                environment.translate('Close speed'),
                form.text(
                'box[fadeOut]',
                settings.box.fadeOut,
                {
                    'style': {
                    'width': '300px',
                },
                },
                'box-fadeOut'
                )
                ) }}
                #}

                <tr id="enableSlideshow">
                    <th scope="row">
                        {{ translate('Slideshow') }}
                        {{ form.show_tooltip('slideshow') }}
                    </th>
                    <td>
                        <input type="radio" id="showSlideshow" name="box[slideshow]" value="1" {% if settings.box.slideshow == '1' %}checked{% endif %}>
                        {{ translate('Available') }}
                        <input type="radio" id="hideSlideshow" name="box[slideshow]" value="0" {% if settings.box.slideshow != '1' %}checked{% endif %}>
                        {{ translate('Disable') }}
                    </td>
                </tr>

                {{ form.row(
                translate('Slideshow speed'),
                form.text(
                'box[slideshowSpeed]',
                settings.box.slideshowSpeed,
                {
                    'style': {
                    'width': '300px',
                },
                },
                'box-slideshowSpeed'
                )
                ) }}

                {{ form.row(
                translate('Slideshow autostart'),
                form.select(
                'box[slideshowAuto]',
                {
                    'true':  translate('Yes'),
                    'false': translate('No'),
                },
                settings.box.slideshowAuto,
                {
                    'style': 'width: 300px',
                },
                'box-slideshowAuto'
                )
                ) }}

                </thead>
            </table>

        </div>

        {% block post %}
            <div data-tab="post">
                <h1 style="line-height: 1;">
                    {{ translate("Show Posts and Pages") }}
                    </br>
                    <a class="button"
                       href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=postfeed&utm_campaign=gallery">Get
                        PRO for 29$</a>
                </h1>

                <div>
                    <a href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=postfeed&utm_campaign=gallery">
                        <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/posts_pro.jpg" />
                    </a>
                </div>
            </div>
        {% endblock %}

        <div data-tab="overlay">
            <table class="form-table" name="captions">
                <thead>

                {% set effects = {
                'none': 'None',
                'center': 'Middle',
                'quarter-appear': 'Appear',
                'quarter-slide-up': 'Quarter Slide Up',
                'quarter-slide-side': 'Quarter Slide Side',
                'quarter-fall-in': 'Quarter Fall in',
                'quarter-two-step': 'Quarter Two-step',
                'quarter-zoom': 'Quarter Caption Zoom',
                'cover-fade': 'Cover Fade',
                'cover-push-right': 'Cover Push Right',
                'revolving-door-left': 'Revolving Door Left',
                'revolving-door-right': 'Revolving Door Right',
                'revolving-door-top': 'Revolving Door Top',
                'revolving-door-bottom': 'Revolving Door Bottom',
                'cover-slide-top': 'Cover Slide Top',
                'offset': 'Caption Offset',
                'guillotine-reverse': 'Guillotine Reverse',
                'half-slide': 'Half Slide',
                'sqkwoosh': 'Sqkwoosh',
                'tunnel': 'Tunnel',
                'direction-aware': 'Direction Aware',
                'phophorus-rotate': 'Phophorus Rotate',
                'phophorus-offset': 'Phophorus Offset',
                'phophorus-scale': 'Phophorus Scale',
                'cube': 'Cube',
                } %}

                {% set iconsWithCaptionsEffects = {
                    'icons': 'Default',
                    'icons-scale': 'Scale',
                    'icons-sodium-left': 'Sodium Left',
                    'icons-sodium-top': 'Sodium Top',
                    'icons-nitrogen-top': 'Nitrogen Top'
                } %}

                {# {{ form.row(environment.translate('Effect'),
                form.select('thumbnail[overlay][effect]', effects, settings.thumbnail.overlay.effect|default('quarter-appear'), { 'style': 'width: 300px;' }), 'overlay-effect') }} #}
                {#<tr>
                    <th scope="row">
                        <label for="captionEnabled">
                            <h3 style="margin: 0 !important;">
                                {{ environment.translate('Show caption') }}
                            </h3>
                        </label>
                    </th>
                    <td>
                        <select id="captionEnabled" name="thumbnail[overlay][enabled]" style="width: 300px;">
                            <option value="true"
                                    {% if settings.thumbnail.overlay.enabled == 'true' %}selected="selected"{% endif %}>{{ environment.translate('Yes') }}</option>
                            <option value="false"
                                    {% if settings.thumbnail.overlay.enabled == 'false' %}selected="selected"{% endif %}>{{ environment.translate('No') }}</option>
                        </select>
                    </td>
                </tr>#}
                <tr id="useCaptions">
                    <th scope="row">
                        <label for="captionEnabled">
                            <h3 style="margin: 0 !important;">
                                {{ translate('Captions') }}
                            </h3>
                        </label>
                    </th>
                    <td>
                        <input type="radio" id="showCaptions" name="thumbnail[overlay][enabled]" value="true" {% if settings.thumbnail.overlay.enabled == 'true' %}checked{% endif %}>
                        {{ translate('Available') }}
                        <input type="radio" id="hideCaptions" name="thumbnail[overlay][enabled]" value="false" {% if settings.thumbnail.overlay.enabled != 'true' %}checked{% endif %}>
                        {{ translate('Disable') }}
                    </td>
                </tr>
                <tr class="caption-effect">
                    <th scope="row">
                        {{ translate('Effect') }}
                    <td>
                    </th>
                <span class="selectedEffectName" style="vertical-align: sub;" hidden>
                    {{ settings.thumbnail.overlay.effect }}
                </span>
                    <button id="chooseEffect" class="button bordered" type="button">
                        {{ translate('Choose effect') }}
                    </button>
                    <input type="hidden" id="overlayEffect" name="thumbnail[overlay][effect]"
                           value="{{ settings.thumbnail.overlay.effect|default('quarter-appear') }}"/>
                    </td>
                </tr>

                {{ form.row(translate('Position'),
                form.select('thumbnail[overlay][position]',
                {'top': 'Top', 'middle': 'Middle', 'bottom': 'Bottom'},
                settings.thumbnail.overlay.position,
                { 'style': 'width: auto;' }), 'overlay-position') }}

                {{ form.row(translate('Background color'),
                form.color('thumbnail[overlay][background]', settings.thumbnail.overlay.background), 'overlay-background') }}

                {{ form.row(translate('Text color'),
                form.color('thumbnail[overlay][foreground]', settings.thumbnail.overlay.foreground), 'overlay-foreground') }}

                {{ form.row(translate('Transparency'),
                form.select('thumbnail[overlay][transparency]',
                ['0%', '10%', '20%', '30%', '40%', '50%', '60%', '70%', '80%', '90%', '100%'],
                settings.thumbnail.overlay.transparency|default(9),
                { 'style': 'width: auto;' }), 'overlay-transparency') }}

                {{ form.row(translate('Text size'),
                form.text('thumbnail[overlay][text_size]', settings.thumbnail.overlay.text_size, { 'style': { 'width': '140px'} })
                ~ form.select('thumbnail[overlay][text_size_unit]', ['pixels', 'percents', 'ems'], settings.thumbnail.overlay.text_size_unit, { 'style': 'margin-top: -2px; height: 27px' }), 'text-size') }}

                {{ form.row(translate('Text align'),
                form.select('thumbnail[overlay][text_align]', {'left': 'Left', 'right': 'Right', 'center': 'Center', 'auto': 'Auto'}, settings.thumbnail.overlay.text_align, { 'style': 'width: auto;' }), 'text-align') }}

                {{ form.row(translate('Font family'),
                form.selectv('thumbnail[overlay][font_family]', fontList, settings.thumbnail.overlay.font_family,{ 'style': 'width: auto;' }), 'font-family') }}


                </thead>
            </table>

            <div class="separator"></div>

            {% block icons %}
                <div name="icons">
                    <h1 style="line-height: 1;">
                        {{ translate("Show amazing Icons on the images") }}
                        </br>
                        <a class="button"
                           href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=icons&utm_campaign=gallery">Get
                            PRO for 29$</a>
                    </h1>

                    <div>
                        <a href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=icons&utm_campaign=gallery">
                            <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/icons_pro.jpg" />
                        </a>
                    </div>
                </div>
            {% endblock %}
        </div>

        {% block categories %}
            <div data-tab="cats">
                <h1 style="line-height: 1;">
                    {{ translate('Categorize images in the gallery') }}
                    </br>
                    <a class="button"
                       href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=categories&utm_campaign=gallery">Get PRO</a>
                </h1>

                <div>
                    <a href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=categories&utm_campaign=gallery">
                        <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/cats_pro.jpg" />
                    </a>
                </div>
                {% block pagination %}
                    <h1 style="line-height: 1;">
                        {{ translate('Let user switch gallery pages') }}
                        </br>
                        <a class="button"
                           href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=pages&utm_campaign=gallery">Get PRO</a>
                    </h1>
                    <div name="pagination">
                        <div>
                            <a href="http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=pages&utm_campaign=gallery">
                                <img src="{{ environment.module('galleries').getLocationUrl() }}/assets/img/pagination_pro.jpg" />
                            </a>
                        </div>
                    </div>
                {% endblock %}
            </div>
        {% endblock %}

        {% block form %}{% endblock %}

        {{ form.close() }}

        <div id="saveDialog" title="{{ translate('Save settings as preset') }}">
            <div>
                <label for="presetTitle">
                    {{ translate('Preset title:') }}
                </label>
            </div>
            <div>
                <input id="presetTitle" type="text" name="title" style="width:100%;" value="{{ preset.title }}"/>
                <input id="settingsId" type="hidden" name="settings_id" value="{{ id }}"/>
            </div>
        </div>

        <div id="deletePreset" title="{{ translate('Delete preset') }}">
            <p>
                {{ translate('Are you really want to delete preset "%s"?')|format(preset.title) }}
            </p>
            <input type="hidden" id="presetId" value="{{ preset.id }}">
        </div>

        <div id="loadPreset" title="{{ translate('Load settings from presets') }}">
            <div>
                <label for="presetList">{{ translate('Select preset:') }}</label>
            </div>
            <div>
                <select id="presetList" name="presetList" style="width:100%"></select>
            </div>
            <div id="presetListError">
                <p id="presetLoadingFailed" style="display:none">
                    {{ translate('Failed to load the presets.') }}
                </p>

                <p id="presetEmpty" style="display:none">
                    {{ translate('Currently you have no presets.') }}
                </p>
            </div>
        </div>

        <div id="themeDialog" title="{{ translate('Select "Big image" theme') }}">
            <h1>
                {{ translate('Select a theme') }}
            </h1>
            <div>
                {% set bigImageThemes = {
                'theme_1': 'Theme 1',
                'theme_2': 'Theme 2',
                'theme_3': 'Theme 3',
                'theme_4': 'Theme 4',
                'theme_5': 'Theme 5',
                'theme_6': 'Theme 6',
                } %}

                {% if environment.isPro() %}
                    {% set bigImageThemes = bigImageThemes|merge({'theme_7': 'Fullscreen popup'}) %}
                {% endif %}

                {% set transitionEffects = {
                'fade': 'Fade',
                'elastic': 'Elastic',
                'none': 'None',
                } %}


                {% for value, name in bigImageThemes %}
                    <div class="grid-gallery-caption" style="float: left; {% if value == 'theme_2' or value == 'theme_4' or value == 'theme_6' %}margin-left: 15px;{% endif %}; cursor: pointer;">
                        <img data-name="{{ name }}" data-val="{{ value }}" style="width:262px; height: 170px;" class="theme dialog-image"
                             src="{{ environment.getModule('colorbox').getThemeScreenshotUrl(value) }}" alt="{{ name }}"
                             title="{{ name }}"/>
                        <div class="select-element">
                            <h3>{{ translate('Select') }}</h3>
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>

        {% set figcaptionStyle %}
            border-radius: {{ settings.thumbnail.border.radius ~ settings.thumbnail.border.radius_unit|replace(['px', '%']) }};
        {% if environment.isPro() and settings.icons is defined and settings.icons.enabled == 'true' %}
            {% if settings.icons.overlay_enabled == 'true' %}
                background-color:{{ settings.icons.overlay_color|default('#3498db') }};
            {% endif %}
        {% else %}
            color:{{ settings.thumbnail.overlay.foreground }};
            background-color:{{ settings.thumbnail.overlay.background }};
            font-size:{{ settings.thumbnail.overlay.text_size }}{{ settings.thumbnail.overlay.text_size_unit|replace(['px', '%', 'em']) }};
            {% if settings.thumbnail.overlay.text_align != 3 %}
                text-align:{{ settings.thumbnail.overlay.text_align|replace(['left', 'right', 'center']) }};
            {% endif %}
            {% if settings.thumbnail.overlay.effect == 'none' or settings.thumbnail.overlay.enabled == 'false' %}
                {#opacity:1;#}
                bottom:0;
            {% endif %}
        {% endif %}
        {% endset %}

        <div id="effectDialog" title="{{ translate('Select overlay effect') }}">
            <div id="effectsPreview" style="margin-top: 10px;">
                {% for type, name in effects %}
                    {% if type != 'direction-aware' %}
                        <figure class="grid-gallery-caption" data-grid-gallery-type="{{ type }}">
                            <img data-src="holder.js/150x150?theme=industrial&text={{ name }}" class="dialog-image">
                            <figcaption style="{{ figcaptionStyle|trim }}">
                                <div class="grid-gallery-figcaption-wrap">
                                    <span>{{ name }}</span>
                                </div>
                            </figcaption>
                            <div class="select-element">
                                {{ translate('Select') }}
                            </div>
                        </figure>
                    {% else %}
                        <figure class="grid-gallery-caption" data-grid-gallery-type="{{ type }}">
                            <div class="box">
                                <div class="box__right">Right → Left</div>
                                <div class="box__left">Left → Right</div>
                                <div class="box__top">Top → Bottom</div>
                                <div class="box__bottom">Bottom → Top</div>
                                <div class="box__center">
                                </div>
                                <img data-src="holder.js/150x150?theme=industrial&text={{ name }}" class="dialog-image">
                            </div>
                            <div class="select-element">
                                {{ translate('Select') }}
                            </div>
                        </figure>
                    {% endif %}
                {% endfor %}
                <div class="grid-gallery-clearfix" style="clear: both;"></div>
                <h3>Captions effects with icons{% if environment.isPro() == false %} Get PRO{% endif %}</h3>
                <div class="description">Enable icons to use this effects</div>
                {% block iconsEffects %}
                    {% for type, name in iconsWithCaptionsEffects %}
                        <figure class="grid-gallery-caption{% if environment.isPro() == false %} disabled{% endif %}" data-grid-gallery-type="{{ type }}">
                            <img data-src="holder.js/150x150?theme=industrial&text={{ name }}" class="dialog-image"/>
                            <figcaption style="{{ figcaptionStyle|trim }}">
                                <div style="width: 32px; height: 32px; border: 1px solid white; border-radius: 50%; margin-top: 30%;">
                                    <a href="{% if environment.isPro() == false %}http://supsystic.com/plugins/photo-gallery?utm_source=plugin&utm_medium=icons&utm_campaign=gallery{% else %}#{% endif %}" class="{% if environment.isPro() == false %}button{% endif %}" style="margin-top: 40px; margin-left: 5px; margin-right: 5px;">
                                    {% if environment.isPro() == false %}
                                        Get PRO
                                    {% endif %}
                                    </a>
                                </div>
                            </figcaption>
                            <div class="caption-with-{{ type }}">
                                {% if photo.attachment.caption is not empty %}
                                    <span>{{ name }}</span>
                                {% else %}
                                    <span>{{ name }}</span>
                                {% endif %}
                            </div>
                            <div class="select-element">
                                {{ translate('Select') }}
                            </div>
                        </figure>
                    {% endfor %}
                {% endblock %}
            </div>
        </div>

        <div id="transitionDialog" title="{{ translate('Select transition') }}">
            <div id="transitionPreview" style="margin: 10px;">
                {% for type, name in transitionEffects %}
                    <figure id="{{ type }}" class="grid-gallery-caption" data-grid-gallery-type="{{ type }}">
                        <img src="http://placehold.it/250/28282a/f7f7f7&text={{ name }}" class="dialog-image"/>
                        <figcaption style="{{ figcaptionStyle|trim }}">
                            <div class="grid-gallery-figcaption-wrap">
                                <span>{{ name }}</span>
                            </div>
                        </figcaption>
                        <div class="select-element">
                            <h3>{{ translate('Select') }}</h3>
                        </div>
                    </figure>
                {% endfor %}
            </div>
        </div>

        <div id="shadowDialog" title="{{ translate('Select shadow preset') }}">
            <h1>
                {{ translate('Select shadow') }}
            </h1>
            <div class="shadow-dialog-wrapper">
                {% set shadowPresets = {
                'effect_1': {
                    'name': 'Effect 1',
                    'offset_x': '8',
                    'offset_y': '8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_2': {
                    'name': 'Effect 2',
                    'offset_x': '-8',
                    'offset_y': '-8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_3': {
                    'name': 'Effect 3',
                    'offset_x': '-8',
                    'offset_y': '8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_4': {
                    'name': 'Effect 4',
                    'offset_x': '8',
                    'offset_y': '-8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_5': {
                    'name': 'Effect 5',
                    'offset_x': '8',
                    'offset_y': '0',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_6': {
                    'name': 'Effect 6',
                    'offset_x': '-8',
                    'offset_y': '0',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_7': {
                    'name': 'Effect 7',
                    'offset_x': '0',
                    'offset_y': '-8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_8': {
                    'name': 'Effect 8',
                    'offset_x': '0',
                    'offset_y': '8',
                    'blur': '6',
                    'color': 'rgba(0, 0, 0, 0.58)'
                },
                'effect_9': {
                    'name': 'Effect 9',
                    'offset_x': '0',
                    'offset_y': '4',
                    'blur': '10',
                    'color': 'rgba(0, 0, 0, 1.0)'
                },
                'effect_10': {
                    'name': 'Effect 10',
                    'offset_x': '0',
                    'offset_y': '-4',
                    'blur': '8',
                    'color': 'rgba(0, 0, 0, 1.0)'
                }
                } %}


                {% for value, effect in shadowPresets %}
                    <div class="grid-gallery-caption" style="float: left; margin-left: 15px; cursor: pointer;">
                        <div class="shadow-preset" data-offset-x="{{ effect.offset_x }}" data-offset-y="{{ effect.offset_y }}" data-blur="{{ effect.blur }}" data-color="{{ effect.color }}"
                             style="margin: 20px; box-shadow: {{ effect.offset_x }}px {{ effect.offset_y }}px {{ effect.blur }}px {{ effect.color }};">
                            <img src="http://placehold.it/200/28282a/f7f7f7&text={{ effect.name }}" class="dialog-image"/>
                        </div>
                        <div class="select-element">
                            <h3>{{ translate('Select') }}</h3>
                        </div>
                    </div>
                {% endfor %}

            </div>
        </div>

        <div id="reviewNotice" title="Review" hidden>
            <h3>Hey, I noticed you just use Gallery by Supsystic over a week – that’s awesome!</h3>
            <p>Could you please do me a BIG favor and give it a 5-star rating on WordPress? Just to help us spread the word and boost our motivation.</p>

            <ul style="list-style: circle; padding-left: 30px;">
                <li>
                    <button class="button button-primary"><a href="//wordpress.org/support/view/plugin-reviews/gallery-by-supsystic?rate=5#postform" target="_blank" class="bupSendStatistic" data-statistic-code="is_shown" style="color:#000000 !important;">Ok, you deserve it</a></button>
                </li>
                <li>
                    <button class="button button-primary"><span class="toeLikeLink bupSendStatistic" data-statistic-code="date">Nope, maybe later</span></button>
                </li>
                <li>
                    <button class="button button-primary"><span class="toeLikeLink bupSendStatistic" data-statistic-code="is_shown">I already did</span></button>
                </li>
            </ul>
        </div>

    </div>

    {% block modals %}{% endblock %}

{% endblock %}